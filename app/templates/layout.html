<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1, width=device-width">

  <!-- https://favicon.io/emoji-favicons/money-bag/ -->
  <link href="/static/favicon.ico" rel="icon">

  <!-- stylesheets -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link href="/static/styles.css" rel="stylesheet">

  <!-- ui icons and control -->
  <script src="https://kit.fontawesome.com/2e9dae02af.js" crossorigin="anonymous"></script>
  <script src="/static/ui-control.js"></script>

  <title>BMI for Kids: {% block title %}{% endblock %}</title>
</head>

<body>
  <nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <!-- placeholder -->
        BMI for Age
        <!--
        TODO: Make a logo for BMI for Age
        <img src="https://bulma.io/images/bulma-logo.png" width="112" height="28">
        -->
      </a>

      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
    </div>

    <div id="navbarBasicExample" class="navbar-menu">
      <div class="navbar-start">
        {% if current_user.is_authenticated %}
        <a class="navbar-item" href="/">
          Chart
        </a>

        <a class="navbar-item" href="/add-measurement">
          Add Measurement
        </a>
        {% endif %}

        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link">
            More
          </a>

          <div class="navbar-dropdown">
            <a class="navbar-item">
              About
            </a>
            <hr class="navbar-divider">
            <a class="navbar-item">
              Report an issue
            </a>
          </div>
        </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <div class="buttons">
            {% if current_user.is_authenticated %}
            <a class="button is-light" href="/logout">
              Log out
            </a>

            {% else %}
            <a class="button is-primary" href="/register">
              <strong>Register</strong>
            </a>
            <a class="button is-light" href="/login">
              Log in
            </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </nav>

  {% if get_flashed_messages() %}
  <div class="notification is-info">
    <button class="delete"></button>
    {{ get_flashed_messages() | join(" ") }}
  </div>
  {% endif %}

  <main class="">
    {% block main %}{% endblock %}
  </main>

</body>
<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
<script type='text/javascript'>
  var graphs = {{graphJSON | safe}};
  Plotly.plot('chart', graphs, {});
</script>

</html>